<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>argagg: /home/vnguyen/projects/misc/third-party/argagg/doc/root.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">argagg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/home/vnguyen/projects/misc/third-party/argagg/doc/root.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="root_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Argument Aggregator {#mainpage}</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;===================</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;This is the Doxygen documentation <span class="keywordflow">for</span> Argument Aggregator, a simple C++11 argument parser.</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;To use just create an <a class="code" href="structargagg_1_1parser.html">argagg::parser</a> <span class="keywordtype">object</span>. However, the <span class="keyword">struct </span>doesn&#39;t provide any explicit methods for defining flags. Instead we define the flags using initialization lists.</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    argagg::parser argparser {{</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        { <span class="stringliteral">&quot;help&quot;</span>, {<span class="stringliteral">&quot;-h&quot;</span>, <span class="stringliteral">&quot;--help&quot;</span>},</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;          <span class="stringliteral">&quot;shows this help message&quot;</span>, 0},</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        { <span class="stringliteral">&quot;delim&quot;</span>, {<span class="stringliteral">&quot;-d&quot;</span>, <span class="stringliteral">&quot;--delim&quot;</span>},</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;          <span class="stringliteral">&quot;delimiter (default: ,)&quot;</span>, 1},</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        { <span class="stringliteral">&quot;num&quot;</span>, {<span class="stringliteral">&quot;-n&quot;</span>, <span class="stringliteral">&quot;--num&quot;</span>},</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;          <span class="stringliteral">&quot;number&quot;</span>, 1},</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;      }};</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;An option is specified by four things: the name of the option, the strings that activate the option (flags), the option<span class="stringliteral">&#39;s help message, and the number of arguments the option expects.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="stringliteral">With the parser defined you actually parse the arguments by calling the argagg::parser::parse() method. If there are any problems then an exception is thrown.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="stringliteral">    argagg::parser_results args;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="stringliteral">    try {</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="stringliteral">      args = argparser.parse(argc, argv);</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="stringliteral">    } catch (const std::exception&amp; e) {</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="stringliteral">      std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="stringliteral">      return EXIT_FAILURE;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="stringliteral">You can check if an option shows up in the command line arguments by accessing the option by name from the parser results and using the implicit boolean conversion. You can write out a simplistic option help message by streaming the argagg::parser instance itself.</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="stringliteral">    if (args[&quot;help&quot;]) {</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="stringliteral">      std::cerr &lt;&lt; argparser;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="stringliteral">      //     -h, --help</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="stringliteral">      //         shows this help message</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="stringliteral">      //     -d, --delim</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="stringliteral">      //         delimiter (default: ,)</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="stringliteral">      //     -n, --num</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="stringliteral">      //         number</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="stringliteral">      return EXIT_SUCCESS;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="stringliteral">    }</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="stringliteral">That help message is only for the flags. If you want a usage message it&#39;</span>s up to you to provide it.</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span> (args[<span class="stringliteral">&quot;help&quot;</span>]) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <a class="codeRef" doxygen="/home/vnguyen/projects/misc/third-party/argagg/doc/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a> &lt;&lt; <span class="stringliteral">&quot;Usage: program [options] ARG1 ARG2&quot;</span> &lt;&lt; <a class="codeRef" doxygen="/home/vnguyen/projects/misc/third-party/argagg/doc/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                &lt;&lt; argparser;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <span class="comment">// Usage: program [options] ARG1 ARG2</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <span class="comment">//     -h, --help</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <span class="comment">//         shows this help message</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      <span class="comment">//     -d, --delim</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <span class="comment">//         delimiter (default: ,)</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      <span class="comment">//     -n, --num</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <span class="comment">//         number</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;A special output stream, <a class="code" href="structargagg_1_1fmt__ostream.html">argagg::fmt_ostream</a>, is provided that will run the usage and help through `fmt` <span class="keywordflow">for</span> nice word wrapping (see `./examples/joinargs.cpp` <span class="keywordflow">for</span> a better example).</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (args[<span class="stringliteral">&quot;help&quot;</span>]) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      argagg::fmt_ostream fmt(<a class="codeRef" doxygen="/home/vnguyen/projects/misc/third-party/argagg/doc/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      fmt &lt;&lt; <span class="stringliteral">&quot;Usage: program [options] ARG1 ARG2&quot;</span> &lt;&lt; <a class="codeRef" doxygen="/home/vnguyen/projects/misc/third-party/argagg/doc/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;          &lt;&lt; argparser;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;Generally argagg tries to <span class="keywordflow">do</span> a minimal amount of work to leave most of the control with the user.</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;If you want to <span class="keyword">get</span> an option argument but fallback on a <span class="keywordflow">default</span> value <span class="keywordflow">if</span> it doesn<span class="stringliteral">&#39;t exist then you can use the argagg::option_results::as() API and provide a default value.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="stringliteral">    auto delim = args[&quot;delim&quot;].as&lt;std::string&gt;(&quot;,&quot;);</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="stringliteral">If you don&#39;</span>t mind being implicit an implicit conversion <span class="keyword">operator</span> is provided allowing you to write simple assignments.</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">int</span> x = 0;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (args[<span class="stringliteral">&quot;num&quot;</span>]) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      x = args[<span class="stringliteral">&quot;num&quot;</span>];</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;Finally, you can <span class="keyword">get</span> all of the positional arguments as an <a class="codeRef" doxygen="/home/vnguyen/projects/misc/third-party/argagg/doc/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a> <span class="keyword">using</span> the <a class="code" href="structargagg_1_1parser__results.html#a159b7d39369d6a3bc76bb484a109d6cc">argagg::parser_results::pos</a> member. You can alternatively convert individual positional arguments <span class="keyword">using</span> the same conversion functions as the option argument conversion methods.</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keyword">auto</span> y = 0.0;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (args.pos.size() &gt; 0) {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      y = args.as&lt;<span class="keywordtype">double</span>&gt;(0);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;One can also specify `--` on the command line in order to treat all following arguments as not options.</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;For a more detailed treatment take a look at the examples or test cases.</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;Mental Model</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;------------</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;The parser just returns a structure of pointers to the C-strings in the original `argv` array. The @<a class="codeRef" doxygen="/home/vnguyen/projects/misc/third-party/argagg/doc/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w//" href="http://en.cppreference.com/w/cpp/utility/functional/ref.html">ref</a> <a class="code" href="structargagg_1_1parser.html#a9f5889fadf0f0ed49242c032da70f5e8">argagg::parser::parse</a>() method returns a @ref argagg::parser_results <span class="keywordtype">object</span> which has two things: position arguments and option results. The position arguments are just a @ref std::vector of `const <span class="keywordtype">char</span>*`. The option results are a mapping from option name (@ref std::<span class="keywordtype">string</span>) to @ref argagg::option_results objects. The @ref argagg::option_results objects are just an @ref std::vector of @ref argagg::option_result objects. Each instance of an @ref argagg::option_result represents the option showing up on the command line. If there was an argument associated with it then the @ref argagg::option_result::<a class="code" href="namespaceargagg_1_1convert.html#acbfa15a31486143d3c2032b4ac78fa96">arg</a> member will *not* be `<span class="keywordtype">nullptr</span>`.</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;Consider the following command:</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    gcc -g -I/usr/local/include -I. -o test main.o foo.o -L/usr/local/lib -lz bar.o -lpng</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;This would produce a structure like follows, written in psuedo-YAML, where each <span class="keywordtype">string</span> is actually a `const <span class="keywordtype">char</span>*` pointing to some part of a <span class="keywordtype">string</span> in the original `argv` array:</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    parser_results:</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      program: &quot;gcc&quot;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      pos: [&quot;main.o&quot;, &quot;foo.o&quot;, &quot;bar.o&quot;]</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      options:</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        version:</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        debug:</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;          all:</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;          - <a class="code" href="namespaceargagg_1_1convert.html#acbfa15a31486143d3c2032b4ac78fa96">arg</a>: null</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        include_path:</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;          all:</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;          - <a class="code" href="namespaceargagg_1_1convert.html#acbfa15a31486143d3c2032b4ac78fa96">arg</a>: &quot;/usr/local/include&quot;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;          - <a class="code" href="namespaceargagg_1_1convert.html#acbfa15a31486143d3c2032b4ac78fa96">arg</a>: &quot;.&quot;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        library_path:</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;          all:</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;          - <a class="code" href="namespaceargagg_1_1convert.html#acbfa15a31486143d3c2032b4ac78fa96">arg</a>: &quot;/usr/local/lib&quot;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        library:</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          all:</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;          - <a class="code" href="namespaceargagg_1_1convert.html#acbfa15a31486143d3c2032b4ac78fa96">arg</a>: &quot;z&quot;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          - <a class="code" href="namespaceargagg_1_1convert.html#acbfa15a31486143d3c2032b4ac78fa96">arg</a>: &quot;png&quot;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        output:</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;          all:</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;          - <a class="code" href="namespaceargagg_1_1convert.html#acbfa15a31486143d3c2032b4ac78fa96">arg</a>: &quot;test&quot;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;Conversion to types occurs at the very end when the `as&lt;T&gt;()` API is used. Up to that point `argagg` is just dealing with C-strings.</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;Installation</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;------------</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;There is just a single header file (`argagg.hpp`) so you can copy that whereever you want. If you want to properly install it you can use the CMake script. The CMake script exists primarily to build the tests and documentation, but an install target for the header is provided.</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;The standard installation dance using CMake and `make` is as follows:</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    mkdir build</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    cd build</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    cmake -DCMAKE_INSTALL_PREFIX=/usr/local ..</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    make install</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    ctest -V <span class="preprocessor"># optionally run tests</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;Override [`CMAKE_INSTALL_PREFIX`](https:<span class="comment">//cmake.org/cmake/help/v2.8.12/cmake.html#variable:CMAKE_INSTALL_PREFIX) to change the installation location. By default (on UNIX variants) it will install to `/usr/local` resulting in the header being copied to `/usr/local/include/argagg/argagg.hpp`.</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;If you have [Doxygen](http:<span class="comment">//www.stack.nl/~dimitri/doxygen/) it should build and install documentation as well.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;There are no dependencies other than the standard library.</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;Edge Cases</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;----------</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;There are some interesting edge cases that show up in option parsing. I used the behavior of `gcc` as my target reference in these cases.</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;### Greedy Arguments</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;Remember that options that require arguments will greedily process arguments.</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;Say we have the following options: `-a`, `-b`, `-c`, and `-o`. They all don<span class="stringliteral">&#39;t accept arguments except `-o`. Below is a list of permutations for short flag grouping and the results:</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="stringliteral">- `-abco foo`: `-o`&#39;</span>s argument is `foo`</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;- `-aboc foo`: `-o`<span class="stringliteral">&#39;s argument is `c`, `foo` is a positional argument</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="stringliteral">- `-aobc foo`: `-o`&#39;</span>s argument is `bc`, `foo` is a positional argument</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;- `-oabc foo`: `-o`<span class="stringliteral">&#39;s argument is `abc`, `foo` is a positional argument</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="stringliteral">For whitespace delimited arguments the greedy processing means the next argument element (in `argv`) will be treated as an argument for the previous option, regardless of whether or not it looks like a flag or some other special entry. That means you get behavior like below:</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="stringliteral">- `--output=foo -- --bar`: `--output`&#39;</span>s argument is `foo`, `--bar` is a positional argument</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;- `--output -- --bar`: `--output`<span class="stringliteral">&#39;s argument is `--`, `--bar` is treated as a flag</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="stringliteral">- `--output --bar`: `--output`&#39;</span>s argument is `--bar`</div>
<div class="ttc" id="endl_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/manip/endl.html">std::endl</a></div><div class="ttdeci">T endl(T...args)</div></div>
<div class="ttc" id="namespaceargagg_1_1convert_html_acbfa15a31486143d3c2032b4ac78fa96"><div class="ttname"><a href="namespaceargagg_1_1convert.html#acbfa15a31486143d3c2032b4ac78fa96">argagg::convert::arg</a></div><div class="ttdeci">T arg(const char *arg)</div><div class="ttdoc">Explicit instantiations of this function are used to convert arguments to types. </div><div class="ttdef"><b>Definition:</b> <a href="argagg_8hpp_source.html#l01382">argagg.hpp:1382</a></div></div>
<div class="ttc" id="structargagg_1_1fmt__ostream_html"><div class="ttname"><a href="structargagg_1_1fmt__ostream.html">argagg::fmt_ostream</a></div><div class="ttdoc">A convenience output stream that will accumulate what is streamed to it and then, on destruction...</div><div class="ttdef"><b>Definition:</b> <a href="argagg_8hpp_source.html#l00591">argagg.hpp:591</a></div></div>
<div class="ttc" id="vector_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/container/vector.html">std::vector</a></div><div class="ttdoc">STL class. </div></div>
<div class="ttc" id="ref_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/utility/functional/ref.html">std::ref</a></div><div class="ttdeci">T ref(T...args)</div></div>
<div class="ttc" id="structargagg_1_1parser__results_html_a159b7d39369d6a3bc76bb484a109d6cc"><div class="ttname"><a href="structargagg_1_1parser__results.html#a159b7d39369d6a3bc76bb484a109d6cc">argagg::parser_results::pos</a></div><div class="ttdeci">std::vector&lt; const char * &gt; pos</div><div class="ttdoc">Vector of positional arguments. </div><div class="ttdef"><b>Definition:</b> <a href="argagg_8hpp_source.html#l00331">argagg.hpp:331</a></div></div>
<div class="ttc" id="basic_ostream_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cerr</a></div></div>
<div class="ttc" id="structargagg_1_1parser_html"><div class="ttname"><a href="structargagg_1_1parser.html">argagg::parser</a></div><div class="ttdoc">A list of option definitions used to inform how to parse arguments. </div><div class="ttdef"><b>Definition:</b> <a href="argagg_8hpp_source.html#l00536">argagg.hpp:536</a></div></div>
<div class="ttc" id="structargagg_1_1parser_html_a9f5889fadf0f0ed49242c032da70f5e8"><div class="ttname"><a href="structargagg_1_1parser.html#a9f5889fadf0f0ed49242c032da70f5e8">argagg::parser::parse</a></div><div class="ttdeci">parser_results parse(int argc, const char **argv) const </div><div class="ttdoc">Parses the provided command line arguments and returns the results as parser_results. </div><div class="ttdef"><b>Definition:</b> <a href="argagg_8hpp_source.html#l01061">argagg.hpp:1061</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
